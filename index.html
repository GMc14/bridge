<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>GMcCrew</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Dawning of a New Day'>

  <link rel="stylesheet" type="text/css" href="index.css">
  <link rel="stylesheet" type="text/css" href="roomSetup.css">
  <link rel="stylesheet" type="text/css" href="chat.css">
  <link rel="stylesheet" type="text/css" href="cards.css">
  <script>
    const GameType = {
      "CREW": 1,
      "BRIDGE": 2,
      "EUCHRE": 3
    };
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" type="text/javascript">
  </script>
  <script src="/socket.io/socket.io.js" type="text/javascript"></script>
  <script src="client_socketioFunctions.js" type="text/javascript"></script>
  <script src="client_gameMaster.js" type="text/javascript"></script>
  <script src="client_roomState.js" type="text/javascript"></script>
  <script src="client_crew.js" type="text/javascript"></script>
  <script src="client_bidFunctions.js" type="text/javascript"></script>
  <script src="client_deckFunctions.js" type="text/javascript"></script>
  <script src="client_game.js" type="text/javascript"></script>
  <script src="client_round.js" type="text/javascript"></script>
  <script src="client_trick.js" type="text/javascript"></script>
  <script src="client_bidFunctions.js" type="text/javascript"></script>
  <script src="client_utils.js" type="text/javascript"></script>
</head>

<body>
  <span id='signature'>GMc14</span>
  <div id="gameBoard">
    <div id=topbar>
      <span id="commanderText"></span>
      <span id="turnText"></span>
      <span id="roomText"></span>
      <button class="gameButtons" id="leaveRoom" onclick="leaveRoom()">Leave</button>
      <div id='bidOfRound'></div>
    </div>
    <div id="taskOptions"></div>
    <div id="showCase"></div>
    <!-- <img id="helpLegendTrigger" src="token_imgs/q.png" /> -->

    <i id="helpLegendTrigger" class="material-icons">help_outline</i>
    <i id="settingsTrigger" class="material-icons">settings</i>
    <img id="helpLegend" src="token_imgs/legend.png" />
    <div id="settings">
      <div id="uiChoices">
        <div id="cardBackChoices">
          <img class="cardBackOption ui-selected" src="card_imgs/cardback_0.png">
        </div>
        <!-- https://playhearthstone.com/en-us/cardbacks/ -->
        <div id="tableClothChoices">
          <div class="tableClothOption noClothOption ui-selected"></div>
          <img class="tableClothOption" src="table_imgs/bg.jpg">
          <img class="tableClothOption" src="table_imgs/bg2.jpg">
          <img class="tableClothOption" src="table_imgs/bg3.jpg">
          <img class="tableClothOption" src="table_imgs/bg5.jpg">
          <img class="tableClothOption" src="table_imgs/bg8.jpg">
          <img class="tableClothOption" src="table_imgs/bg9.jpg">
          <!-- <img class="tableClothOption" src="table_imgs/bg4.jpg">
        <img class="tableClothOption" src="table_imgs/bg6.jpg">
        <img class="tableClothOption" src="table_imgs/bg7.jpg">
        <img class="tableClothOption" src="table_imgs/felt_bg.jpg">
        <img class="tableClothOption" src="table_imgs/felt_bg2.jpg">
        <img class="tableClothOption" src="table_imgs/bg_green_felt.jpg">
        <img class="tableClothOption" src="table_imgs/bg_blue_felt.jpg">
        <img class="tableClothOption" src="table_imgs/bg_purple_felt.jpg">
        <img class="tableClothOption" src="table_imgs/bg_red_felt.jpg">
        <img class="tableClothOption" src="table_imgs/bg_orange_felt.jpg">
        <img class="tableClothOption" src="table_imgs/bg_yellow_felt.jpg">
        <img class="tableClothOption" src="table_imgs/bg_white_felt.jpg">
        <img class="tableClothOption" src="table_imgs/bg_black_felt.jpg"> -->
        </div>
      </div>
    </div>
    <div id="gameSetup">
      <div id="roomSelection">
        <span class='setupInputLabel'>Create or Join Room:</span><br>
        <form id="joinRoomForm">
          <input id="roomID" class="largeInputText" type="text" title="4 Letter Room Code"
            placeholder="4 Character Room Code" maxlength="4" pattern="[a-zA-Z0-9]+">
          <input id="enterRoomButton" type="submit" value="Enter">
        </form>
      </div>
      <div id='playerSetup'>
        <span class='setupInputLabel' id='nicknameLabel'>Nickname:</span>
        <input id='nicknameInput' class="largeInputText" type='text'></input>
        <div id="playersInRoom"></div>
        <span class='setupInputLabel' id='playerSelectLabel'>Select Seat:</span>
        <span class='setupInputLabel' id='teamInfo'>(TEAMS: 1 & 3 and 2 & 4)</span>
        <div id='seatingArea'></div>
        <select class='gameDrop' id='gameDrop' name='dropdownGame' size=1></select>
        <button id="startGameButton" class="startBtn">Start Game</button>
      </div>
      <div id="bidArea">
        <div id="legend_container">
          <div id="legend">
            <span style="background-color:#5566ff">Player 1</span><br>
            <span style="background-color:#ff5566">Player 2</span><br>
            <span style="background-color:#0011cc">Player 3</span><br>
            <span style="background-color:#cc0011">Player 4</span><br>
          </div>
        </div>
        <table id="bidTable">
          <tbody>
            <tr>
              <th></th>
              <th><img class="logo" src="card_imgs/clubs.png" alt="Clubs logo"></th>
              <th><img class="logo" src="card_imgs/diamonds.png" alt="Diamonds logo"></th>
              <th><img class="logo" src="card_imgs/hearts.png" alt="Hearts logo"></th>
              <th><img class="logo" src="card_imgs/spades.png" alt="Spades logo"></th>
              <th>NT </th>
            </tr>
          </tbody>
        </table>
      </div>
      <div id="gameRecap">
        <p id="winners"> </p>
        <p id="gameBid"> </p>
        <p id="wins"> </p>
        <!--<button id="restartGame" class="gameButtons">RESTART GAME</button>-->
      </div>
    </div>
    <div id="alternativeActions">
      <button id="orderUp" class="gameButtons">Order It Up</button>
      <select id="suitSelectionDropdown" size=1></select>
      <button id="declareSuit" class="gameButtons">Choose Trump</button>
      <button id="pass" class="gameButtons">Pass</button>
      <i id="myCommunication" class="material-icons">mic</i>
    </div>
    <div id="myHand"></div>
    <div id="playArea">
      <div id="myStuff" class="stuff"></div>
      <select id='myDrpPlyrName' class="plyrDropName" name='dropdownIcon' size=1></select>
      <div id="myName" class="name"></div>
      <div id="myPlay" class="plays"></div>
      <div id="myWin" class="winCount">0</div>
    </div>
    <div id="gameControls">
      <button id="restartGame" class="gameButtons">RESTART GAME</button>
      <button id="drawTask" class="gameButtons">Draw Task</button>
      <button id="chooseTask" class="gameButtons">Choose Task</button>
      <button id="hideTasks" class="gameButtons">Hide Tasks</button>
    </div>
    <div id="chat">
      <div id="chatBox">
        <div id="boxBottom">
          <div id="msgBox">
          </div>
          <div id="txtBox">
            <textarea rows="4" id="textArea"></textarea>
          </div>
        </div>
        <div id="boxTop">
          <span>Chat</span>
          <span class="closeBtn">&minus;</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    $("#gameDrop").append($("<option value='" + GameType.CREW + "'>The Crew</option>"));
    $("#gameDrop").append($("<option value='" + GameType.BRIDGE + "'>Bridge</option>"));
    $("#gameDrop").append($("<option value='" + GameType.EUCHRE + "'>Euchre</option>"));

    var i;
    for (i = 1; i < 162; i++) {
      $("#cardBackChoices").append('<img class="cardBackOption" src="card_imgs/cardback_' + i + '.png">');
    }
    $(".cardBackOption").click(function () {
      $(this).addClass('ui-selected').siblings().removeClass('ui-selected');
    });

    $(".tableClothOption").click(function () {
      $(this).addClass('ui-selected').siblings().removeClass('ui-selected');
      tableCloth = $(".tableClothOption.ui-selected").prop("src");
      if (tableCloth) {
        $("body").css("background-image", "url('" + tableCloth + "')");
        $("body").css("background-size", "cover");
      } else {
        $("body").css('background-image', '');
        $("body").css("background-size", "20px 20px");
      }
    });

    const trumpOptions = ['C', 'D', 'H', 'S', 'NT'];
    let n = 1;
    while (n < 8) {
      let tr = $("<tr></tr>");
      tr.append('<td>' + n + '</td>');
      $.each(trumpOptions, function () {
        tr.append('<td class="bidCell" id="' + n + this + '"></td>');
      });
      n++;
      $("#bidTable > tbody").append(tr);
    }
    $.each(trumpOptions, function () {
      if (this != 'NT') {
        $("#suitSelectionDropdown").append($("<option id='trumpSuitDropOption" + this + "' value='" + this +
          "'>" + this + "</option>"));
      }
    });
  </script>
</body>

</html>