<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>GMcCrew</title>
  <script>
    const lastModifiedString10 = ("Last modified: 2021/02/08 20:45:35");
    const htmlTS = lastModifiedString10.replace("Last ", "").replace("modified: ", "");
    console.log("index.html " + lastModifiedString10);
  </script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <!-- 
    Material Icons to Use:
    add_task (add tasks)
    announcement (communicate?)
    arrow_circle_down (lowest)
    arrow_circle_up (highest)
    gps_fixed (only)
    info (help)
    pan_tool (objection / haise hand)
    stat_rate (only card)
    push_pin (only)
   -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Dawning of a New Day'>

  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" type="text/css" href="styles/index.css">
  <link rel="stylesheet" type="text/css" href="styles/roomSetup.css">
  <link rel="stylesheet" type="text/css" href="styles/chat.css">
  <link rel="stylesheet" type="text/css" href="styles/cards.css">
  <link rel="stylesheet" type="text/css" href="styles/loader-bouncing.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300i,400,700,900,900i|Work+Sans:400,900" >
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" type="text/javascript">
  </script>
  <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>
  <script src="/socket.io/socket.io.js" type="text/javascript"></script>

  <script src="scripts/client_socketioFunctions.js" type="text/javascript"></script>
  <script src="scripts/client_gameMaster.js" type="text/javascript"></script>
  <script src="scripts/client_roomState.js" type="text/javascript"></script>
  <script src="scripts/client_crew.js" type="text/javascript"></script>
  <script src="scripts/client_deckFunctions.js" type="text/javascript"></script>
  <script src="scripts/client_game.js" type="text/javascript"></script>
  <script src="scripts/client_round.js" type="text/javascript"></script>
  <script src="scripts/client_trick.js" type="text/javascript"></script>
  <script src="scripts/client_bidFunctions.js" type="text/javascript"></script>
  <script src="scripts/client_utils.js" type="text/javascript"></script>
  <script src="scripts/client_twoRooms.js" type="text/babel"></script>
</head>

<body>
  <div id="render-target"></div>
  <div class="circleContainer">
    <div class="circle"></div>
  </div>
  <span id='signature'>GMc14</span>

  <div id="gameBoard">
    <div id=topbar>
      <span id="gameNameText"></span>
      <span id="missionNumberText"></span>
      <span id="handNumberText"></span>
      <span id="commanderText"></span>
      <div id='bidOfRoundText'></div>
      <span id="turnText"></span>
      <span id="roomText"></span>
      <button class="gameButtons" id="leaveRoom" onclick="leaveRoom()">Leave</button>
    </div>
    <div id="taskOptions"></div>
    <div id="showCase"></div>
    <!-- <img id="helpLegendTrigger" src="token_imgs/q.png" /> -->
    <i id="helpLegendTrigger" class="material-icons">help_outline</i>
    <i id="settingsTrigger" class="material-icons">settings</i>
    <img id="helpLegend" src="token_imgs/legend.png" />
    <div id="settings">
      <div id="uiChoices">
        <span>Card Back:</span>
        <div id="cardBackChoices">
          <img class="cardBackOption ui-selected" src="card_imgs/cardback_0.png">
        </div>
        <!-- https://playhearthstone.com/en-us/cardbacks/ -->
        <span>Table Surface:</span>
        <div id="tableClothChoices">
          <div class="tableClothOption noClothOption ui-selected"></div>
        </div>
      </div>
    </div>
    <div id="gameSetup">
      <div id="roomSelection">
        <form id="joinRoomForm">
          <span class='setupInputLabel' id='nicknameLabel'>Name:</span>
          <input id='nicknameInput' class="largeInputText" title="Your Name" placeholder="Your Name" size="20"
            maxlength="12" type='text'></input>
          <span class='setupInputLabel'>Room:</span><br>
          <input id="roomID" class="largeInputText" type="text" title="4 Letter Room Code" placeholder="Room Code"
            maxlength="4" size="20" pattern="[a-zA-Z0-9]+"><br>
          <input id="enterRoomButton" type="submit" value="Enter" disabled>
          <div id="roomLoader" class="loader loader-bouncing is-active"></div>
        </form>
      </div>
      <div id='playerSetup'>
        <div id="playersInRoom"></div>
        <span class='setupInputLabel' id='playerSelectLabel'>Select Seat:</span>
        <span class='setupInputLabel' id='teamInfo'>(Teams: 1&3 and 2&4)</span>
        <div id='seatingArea'></div>
        <select class='gameDrop' id='gameDrop' name='dropdownGame' size=1></select>
        <button id="startGameButton" class="startBtn">Start Game</button>
      </div>
      <div id="bidArea">
        <div id="legend_container">
          <div id="legend">
            <span style="background-color:#5566ff">Player 1</span><br>
            <span style="background-color:#ff6666">Player 2</span><br>
            <span style="background-color:#0011cc">Player 3</span><br>
            <span style="background-color:#cc1111">Player 4</span><br>
          </div>
        </div>
        <table id="bidTable">
          <tbody>
            <tr>
              <th></th>
              <th><img class="logo" src="card_imgs/clubs.png" alt="Clubs logo"></th>
              <th><img class="logo" src="card_imgs/diamonds.png" alt="Diamonds logo"></th>
              <th><img class="logo" src="card_imgs/hearts.png" alt="Hearts logo"></th>
              <th><img class="logo" src="card_imgs/spades.png" alt="Spades logo"></th>
              <th>NT </th>
            </tr>
          </tbody>
        </table>
      </div>
      <div id="gameRecap">
        <p id="winners"> </p>
        <p id="gameBid"> </p>
        <p id="wins"> </p>
      </div>
    </div>
    <div id="alternativeActions">
      <button id="orderUp" class="gameButtons">Order It Up</button>
      <select id="suitSelectionDropdown" size=1></select>
      <button id="declareSuit" class="gameButtons">Choose Trump</button>
      <button id="pass" class="gameButtons">Pass</button>
      <i id="myCommunication" class="material-icons">mic</i>
    </div>
    <div id="myHand"></div>
    <div id="playArea">
      <div id="myStuff" class="stuff"></div>
      <select id='myDrpPlyrName' class="plyrDropName" name='dropdownIcon' size=1></select>
      <div id="myName" class="name"></div>
      <div id="myPlay" class="plays"></div>
      <div id="myWin" class="winCount">0</div>
    </div>
    <div id="gameControls">
      <button id="restartGameButton" class="gameButtons">RESTART GAME</button>
      <button id="drawTask" class="gameButtons">Draw Task</button>
      <button id="chooseTask" class="gameButtons">Choose Task</button>
      <button id="hideTasks" class="gameButtons">Hide Tasks</button>
      <button id="revealCards" class="gameButtons">Reveal Cards</button>
      <form id="missionNumberForm">
        <label for="missionNumberInput">Mission #:</label>
        <input type="number" id="missionNumberInput" value="0" name="missionNumberInput" min="0" max="50">
      </form>
      <form id="handNumberForm">
        <label for="handNumberInput">Attempt #:</label>
        <input type="number" id="handNumberInput" value="0" name="handNumberInput" min="0" max="100">
      </form>
    </div>
    <div id="chat">
      <div id="chatBox">
        <div id="boxBottom">
          <div id="msgBox">
          </div>
          <div id="txtBox">
            <textarea rows="4" id="textArea"></textarea>
          </div>
        </div>
        <div id="boxTop">
          <span>Chat</span>
          <span class="closeBtn">&minus;</span>
        </div>
      </div>
    </div>
  </div>
  <span id="timeStamp">---</span>
  <script>
    // $(window).resize(function () {
    //   // layoutAroundOval();
    // });

    // function layoutAroundOval() {
    //   var itemCount = 25;
    //   var extraPadding = Math.floor(itemCount / 5);
    //   extraPadding += (extraPadding + 1) % 2;
    //   var halfPadding = Math.floor(extraPadding / 2);
    //   console.log(extraPadding);
    //   var widthPct = 80;
    //   var heightPct = 50;
    //   var width = $(window).width() * widthPct*1.0/100;
    //   var height = $(window).height() * heightPct*1.0/100;
    //   $(".circle").css("width", width + "px");
    //   $(".circle").css("height", height + "px");
    //   $(".circle").css("margin-top", "-"+heightPct/2 + "vh");
    //   $(".circle").css("margin-left", "-"+widthPct/2 + "vw");

    //   $(".circle").empty();
    //   for (var i = 1; i <= (itemCount + extraPadding); i++) {
    //     if (i > (itemCount + halfPadding) || i <= halfPadding) {
    //       $(".circle").append("<div class='tick red'></div>");
    //     } else {
    //       $(".circle").append("<div class='tick'></div>");
    //     }
    //     var angle = (360 * 1.0 * i / (itemCount + extraPadding));
    //     angle += 90;
    //     angle = angle % 360;
    //     var angleRads = angle * (Math.PI / 180);
    //     var widthComponent = (width / 2) * Math.sin(angleRads);
    //     var heightComponent = (height / 2) * Math.cos(angleRads);
    //     var radius = (width / 2) * (height / 2) / Math.sqrt(Math.pow(widthComponent, 2) + Math.pow(heightComponent, 2));
    //     console.log("angle: "+angle + " radius: " + radius+ " widthComponent: "+widthComponent+"  heightComponent:"+heightComponent);
    //     $(".circle .tick:nth-child(" + i + ")").css("transform", "rotate(" + angle + "deg) translate(" + radius +
    //     "px)");
    //   }
    // }
    // $("#gameSetup").hide();
    //   layoutAroundOval();
  </script>
  <script>
    var dates = [htmlTS, bidTS, crewTS, deckTS, gameTS, gmTS, roomTS, roundTS, socketTS, trickTS, utilTS];
    var dates = dates.map(function (e) {
      return new Date(e);
    });
    console.log(JSON.stringify(dates));
    var maxDate = new Date(Math.max.apply(null, dates));
    $("#timeStamp").text("Updated: " + maxDate.toUTCString());

    function validateInputs() {
      var nameInputValue = $("#nicknameInput").val();
      var longEnoughName = nameInputValue.length >= 2;
      console.log("nameInputValue: " + nameInputValue + ", longEnoughName: " + longEnoughName);
      $("#enterRoomButton").prop("disabled", !longEnoughName);
    }

    $("#nicknameInput").keyup(function (event) {
      this.value = this.value.replace(/[^a-zA-Z0-9\d]/, '');
      validateInputs();
    });

    var previousNickName = $.cookie("nickname");
    if (previousNickName) {
      $("#nicknameInput").val(previousNickName);
      validateInputs();
    }
  </script>
</body>

</html>